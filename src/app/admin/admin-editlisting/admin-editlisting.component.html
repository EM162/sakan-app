<div class="form-container enhanced">
  <h2 class="form-title">Edit Listing</h2>
  <form [formGroup]="listingForm" (ngSubmit)="onSubmit()" autocomplete="off">
    <div class="row g-3">
      <div class="col-12">
        <label class="form-label">Title <span class="text-danger">*</span></label>
        <input formControlName="title" class="form-control" placeholder="Enter listing title" required />
      </div>
      
      <div class="col-12">
        <label class="form-label">Description <span class="text-danger">*</span></label>
        <textarea formControlName="description" class="form-control" rows="4" placeholder="Describe your listing in detail..." required></textarea>
      </div>
      
      <div class="col-md-6">
        <label class="form-label">Price Per Month <span class="text-danger">*</span></label>
        <div class="input-group">
          <input type="number" formControlName="pricePerMonth" class="form-control" min="0" placeholder="e.g. 500" required />
        </div>
      </div>
      
      <div class="col-md-6">
        <label class="form-label">Max Guests <span class="text-danger">*</span></label>
        <input type="number" formControlName="maxGuests" class="form-control" min="1" placeholder="e.g. 4" required />
      </div>
      
      <div class="col-md-6">
        <label class="form-label">Governorate <span class="text-danger">*</span></label>
        <input formControlName="governorate" class="form-control" placeholder="e.g. Cairo" required />
      </div>
      
      <div class="col-md-6">
        <label class="form-label">District <span class="text-danger">*</span></label>
        <input formControlName="district" class="form-control" placeholder="e.g. Nasr City" required />
      </div>
      
      <div class="col-12">
        <label class="form-label">Photos</label>
        <div class="photo-list">
          <div *ngFor="let photo of photoUrls; let i = index" class="photo-item">
            <img [src]="photo" class="photo-img" alt="Listing photo" />
            <button type="button" class="photo-remove-btn" (click)="removePhoto(i)" title="Remove photo">Ã—</button>
          </div>
        </div>
        <div class="input-group">
          <input type="file" id="photoInput" multiple (change)="onFileSelected($event)" class="d-none" accept="image/png, image/jpeg, image/jpg" />
          <label for="photoInput" class="photo-upload-btn">
            <i class="bi bi-upload"></i> Browse Photos
          </label>
        </div>
        <small class="text-muted">JPG, PNG, JPEG formats accepted. You can select multiple images at once.</small>
        <div *ngIf="selectedFiles.length > 0" class="selected-files-alert">
          <span>{{ selectedFiles.length }} file(s) selected for upload</span>
          <button type="button" class="btn btn-sm btn-primary" (click)="uploadSelectedPhotos()">
            Upload Photos
          </button>
        </div>
      </div>
      
      <div class="col-md-6">
        <div class="form-check form-switch">
          <input type="checkbox" formControlName="isBookableAsWhole" class="form-check-input" id="bookableWhole" />
          <label class="form-check-label" for="bookableWhole">
            Available for Whole Booking
          </label>
        </div>
      </div>
      
      <div class="col-md-6">
        <div class="form-check form-switch">
          <input type="checkbox" formControlName="isActive" class="form-check-input" id="isActive" />
          <label class="form-check-label" for="isActive">
            Active Listing
          </label>
        </div>
      </div>
      
      <div class="col-12">
        <button type="submit" class="submit-btn" [disabled]="listingForm.invalid">
          <span>Update Listing</span>
        </button>
      </div>
    </div>
  </form>
</div>